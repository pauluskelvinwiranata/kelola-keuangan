const transactionType=document.getElementById("transactionType"),amount=document.getElementById("amount"),date=document.getElementById("date"),addTransactionButton=document.getElementById("addTransactionButton"),transactionList=document.getElementById("transactionList"),balance=document.getElementById("balance");let transactions=JSON.parse(localStorage.getItem("transactions"))||[],totalBalance=calculateTotalBalance(transactions);function calculateTotalBalance(t){return t.reduce((t,a)=>"income"===a.type?t+a.amount:t-a.amount,0)}function renderTransactions(){transactionList.innerHTML="",transactions.forEach((t,a)=>{let n=document.createElement("li"),e=formatCurrency(t.amount);n.innerHTML=`
      ${"income"===t.type?"Pendapatan":"Pengeluaran"}: ${e} (${t.date})
      <button class="delete-button" data-index="${a}">Hapus</button>`,transactionList.appendChild(n)})}function updateBalanceDisplay(){let t=formatCurrency(totalBalance);balance.textContent=`Saldo : ${t}`}function formatCurrency(t){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t)}renderTransactions(),updateBalanceDisplay(),addTransactionButton.addEventListener("click",function(){let t=transactionType.value,a=parseFloat(amount.value),n=date.value;isNaN(a)||""===n||(transactions.push({type:t,amount:a,date:n}),localStorage.setItem("transactions",JSON.stringify(transactions)),"income"===t?totalBalance+=a:totalBalance-=a,renderTransactions(),updateBalanceDisplay(),amount.value="",date.value="")}),transactionList.addEventListener("click",function(t){if(t.target&&t.target.classList.contains("delete-button")){let a=t.target.getAttribute("data-index"),n=transactions.splice(a,1)[0];localStorage.setItem("transactions",JSON.stringify(transactions)),"income"===n.type?totalBalance-=n.amount:totalBalance+=n.amount,renderTransactions(),updateBalanceDisplay()}});